<% layout('./layouts/layout.eta') %>

<% /* <h1>Drill and practice</h1>

<p>This is an application where you can create topics and option answers for quizes. Anyone using the application possibly also take quizes, viewing the available topics and option answers for both wrongness and correctness.</p>
<p>If you haven't used the application before, you can start by <a href="/auth/register" style="color: blue">registering</a>. If you have been here before, just <a href="/auth/login" style="color: blue">log in</a>!</p>
<p>If you wish to see how such an application could be built, visit the free online <a href="https://wsd.cs.aalto.fi" target="_blank">Web Software Development Course</a> offered by <a href="https://www.aalto.fi/en" target="_blank">Aalto University</a>.</p>
<p>Statistics</p>
<ul style="list-style-type:disc">
    <li>Topics: <%= it.topics ? it.topics : "0" %></li>
<li>Questions: <%= it.questions ? it.questions : "0" %></li>
<li>Answers from users: <%= it.userAnswers ? it.userAnswers : "0" %></li>
</ul> */ %>

<div>
  <p>You are ADMIN</p>
  <table>
    <thead>
      <tr>
        <th style="border: 1px solid black; text-align: center;">First name</th>
        <th style="border: 1px solid black; text-align: center;">Last name</th>
        <th style="border: 1px solid black; text-align: center;">Gender</th>
        <th style="border: 1px solid black; text-align: center;">Email</th>
        <th style="border: 1px solid black; text-align: center;">Apartment Type</th>
        <th style="border: 1px solid black; text-align: center;">Price/month/person</th>
        <th style="border: 1px solid black; text-align: center;">Date Request</th>
        <th style="border: 1px solid black; text-align: center;">Date Need Apartment</th>
        <th style="border: 1px solid black; text-align: center;">Possible Room Address</th>
      </tr>
    </thead>
    <tbody>
      <% if(it.table1.length){ for(var i = 0; i< it.table1.length; i++) {%>
      <tr>
        <% /* <th scope="row"><%= (i+1) %></th> */ %>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].firstname%></td>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].lastname%></td>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].gender%></td>
        <td style="border: 1px solid black;"><%= it.table1[i].email%></td>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].type%></td>
        <td style="border: 1px solid black; text-align: center;">â‚¬<%= it.table1[i].price%></td>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].date_request.toLocaleDateString('en-GB')%></td>
        <td style="border: 1px solid black; text-align: center;"><%= it.table1[i].date_rent.toLocaleDateString('en-GB')%></td>
        <td style="text-align: right;">
          <select name="address" id="address">
            <% if(it.table1.length){ for (var j = 0; j < it.table2[i].length; j++) { %>
              <option value="<%= it.table2[i][j].address %>"><%= it.table2[i][j].address %> <%= it.table2[i][j].zipcode %> <%= it.table2[i][j].city %></option>
              <% } } else { %>
              <tr>
                <td>No data ever existed.</td>
              </tr>
              <% } %>
          </select>
        </td>
        <td style="padding-left: 10px;"><form method="POST" action="/admin-application"><input type="submit" value="Reserve"></form></td>
      </tr>
      <% } } else { %>
      <tr>
        <td>No data ever existed.</td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>